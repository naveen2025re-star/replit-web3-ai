[Sitemap](https://medium.com/sitemap/sitemap.xml)

[Open in app](https://rsci.app.link/?%24canonical_url=https%3A%2F%2Fmedium.com%2Fp%2Fe47bd8de4afb&%7Efeature=LoOpenInAppButton&%7Echannel=ShowPostUnderCollection&%7Estage=mobileNavBar&source=post_page---top_nav_layout_nav-----------------------------------------)

Sign up

[Sign in](https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2Fgeekculture%2Fpaypal-integration-in-node-js-e47bd8de4afb&source=post_page---top_nav_layout_nav-----------------------global_nav------------------)

[Medium Logo](https://medium.com/?source=post_page---top_nav_layout_nav-----------------------------------------)

[Write](https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fnew-story&source=---top_nav_layout_nav-----------------------new_post_topnav------------------)

Sign up

[Sign in](https://medium.com/m/signin?operation=login&redirect=https%3A%2F%2Fmedium.com%2Fgeekculture%2Fpaypal-integration-in-node-js-e47bd8de4afb&source=post_page---top_nav_layout_nav-----------------------global_nav------------------)

![](https://miro.medium.com/v2/resize:fill:32:32/1*dmbNkD5D-u45r44go_cf0g.png)

[**Geek Culture**](https://medium.com/geekculture?source=post_page---publication_nav-9758482ba857-e47bd8de4afb---------------------------------------)

·

[Follow publication](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fgeekculture&operation=register&redirect=https%3A%2F%2Fmedium.com%2Fgeekculture%2Fpaypal-integration-in-node-js-e47bd8de4afb&collection=Geek+Culture&collectionId=9758482ba857&source=post_page---publication_nav-9758482ba857-e47bd8de4afb---------------------publication_nav------------------)

[![Geek Culture](https://miro.medium.com/v2/resize:fill:38:38/1*bWAVaFQmpmU6ePTjNIje_A.jpeg)](https://medium.com/geekculture?source=post_page---post_publication_sidebar-9758482ba857-e47bd8de4afb---------------------------------------)

A new tech publication by Start it up ( [https://medium.com/swlh](https://medium.com/swlh)).

[Follow publication](https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fgeekculture&operation=register&redirect=https%3A%2F%2Fmedium.com%2Fgeekculture%2Fpaypal-integration-in-node-js-e47bd8de4afb&collection=Geek+Culture&collectionId=9758482ba857&source=post_page---post_publication_sidebar-9758482ba857-e47bd8de4afb---------------------post_publication_sidebar------------------)

# Paypal Integration in Node.JS

[![Mantan Programmer](https://miro.medium.com/v2/resize:fill:32:32/1*_Rx0D1fF_n2mxujb9m9i2Q.jpeg)](https://medium.com/@mantanprogrammer?source=post_page---byline--e47bd8de4afb---------------------------------------)

[Mantan Programmer](https://medium.com/@mantanprogrammer?source=post_page---byline--e47bd8de4afb---------------------------------------)

4 min read

·

Aug 23, 2022

--

1

Listen

Share

Press enter or click to view image in full size

![](https://miro.medium.com/v2/resize:fit:700/1*PhvFEeK_Z92a_U0gQgN4rQ.png)

Hello, how are you all friends, I wish you good health and success always. This time we are still discussing how to integrate Paypal, but we will make it using Node.jS.

Paypal is an international payment method that works in most countries that support online money transfers. Paypal provides a faster and safer way of transferring money. Due to its popularity, most e-commerce businesses use Paypal to collect money from customers.

In this article, we will integrate the Paypal payment gateway into node.JS. It is an e-commerce website which helps to use Laravel framework as backend technology. We will go through it step by step from the beginning.

Follow the steps below:

1. Create a new project
2. Install Packages for Paypal Payment Gateway Using npm
3. Create PayPal credentials . fund account
4. Create JS File
5. Checkout view
6. Payment handler
7. Run the app

We just discuss the tutorial below. Also read other tutorials here:

[Paypal Payment Gateway Integration With Laravel](https://temanngoding.com/en/paypal-payment-gateway-integration-with-laravel/)

[Error Handling in Laravel](https://temanngoding.com/en/error-handling-in-laravel/)

[Creating Ratings and Reviews With Laravel](https://temanngoding.com/en/creating-ratings-and-reviews-with-laravel/)

## 1\. Create a new project

Create a new project with the command as below.

```
$ mkdir paynode
$ cd paynode
$ npm install
$ npm init
```

The npm init command adds the package.json file to our paywave directory, making it a Node.js application.

## 2\. Install Packages for Paypal Payment Gateway Using npm

Run the commands below to install express, and paypal-rest-sdk into our project.

```
$ npm i express
$ npm i paypal-rest-sdk
```

## 3\. Create PayPal credentials

After installing paypal package, we need client\_id and secret\_key for paypal integration, so we need to enter in paypal developer mode and create new sandbox account for the same. After login in paypal you need to get the client\_id and secret\_key as shown below. before getting client\_id and secret\_key we need to create application. So, check the screenshot below and build an app. Login to [Developer Dashboard](https://www.paypal.com/signin?returnUri=https%3A%2F%2Fdeveloper.paypal.com%2Fdeveloper%2Fapplications).

Click Create Apps.

Press enter or click to view image in full size

![](https://miro.medium.com/v2/resize:fit:700/0*4qPd7sv5YvoCbRUf)

Fill in the name of the application that was created.

Press enter or click to view image in full size

![](https://miro.medium.com/v2/resize:fit:700/0*vKwc-kPCITMu7AHY)

Then you will get the client key and secret key that will be used in the application.

Press enter or click to view image in full size

![](https://miro.medium.com/v2/resize:fit:700/0*Bp6PbQT5yz43rK6L)

## 4\. Create JS File

- In the paynode directory, create a new file called index.js.
- Add the code below to the index.js file created above.

```
const express = require('express');
const paypal = require('paypal-rest-sdk');paypal.configure({
  'mode': 'sandbox', //sandbox or live
  'client_id': '####yourclientid######',
  'client_secret': '####yourclientsecret#####'
});const app = express();app.get('/', (req, res) => res.sendFile(__dirname + "/index.html"));
app.listen(PORT, () => console.log(`Server Started on ${PORT}`));
```

- Adjust client\_id and client\_screet with your paypal.

## 5\. Checkout view

- In the paynode directory, create a file called index.html.
- Add the code snippet below to index.html.

```
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>PayPal Node App</title>
</head>
<body>
  <h1> Shoes </h1>
  <h2>Buy For $25</h2>
  <form action="/pay" method="post">
    <input type="submit" value="Buy">
  </form>
</body>
</html>
```

- In the html code we just add the route that we will use for checkout.

## 6\. Payment handler

Add the code below to the index.js file.

```
app.post('/pay', (req, res) => {
    const create_payment_json = {
      "intent": "sale",
      "payer": {
          "payment_method": "paypal"
      },
      "redirect_urls": {
          "return_url": "http://localhost:3000/success",
          "cancel_url": "http://localhost:3000/cancel"
      },
      "transactions": [{\
          "item_list": {\
              "items": [{\
                  "name": "Red Sox Hat",\
                  "sku": "001",\
                  "price": "25.00",\
                  "currency": "USD",\
                  "quantity": 1\
              }]\
          },\
          "amount": {\
              "currency": "USD",\
              "total": "25.00"\
          },\
          "description": "Hat for the best team ever"\
      }]
  };  app.get('/success', (req, res) => {
    const payerId = req.query.PayerID;
    const paymentId = req.query.paymentId;

    const execute_payment_json = {
      "payer_id": payerId,
      "transactions": [{\
          "amount": {\
              "currency": "USD",\
              "total": "25.00"\
          }\
      }]
    };

    paypal.payment.execute(paymentId, execute_payment_json, function (error, payment) {
      if (error) {
          console.log(error.response);
          throw error;
      } else {
          console.log(JSON.stringify(payment));
          res.send('Success');
      }
  });
  });    paypal.payment.create(create_payment_json, function (error, payment) {
        if (error) {
            throw error;
        } else {
            for(let i = 0;i < payment.links.length;i++){
              if(payment.links[i].rel === 'approval_url'){
                res.redirect(payment.links[i].href);
              }
            }
        }
      });

      });  app.get('/cancel', (req, res) => res.send('Cancelled'));
```

## 7\. Run the app

Write the code node index.js in your directory.

![](https://miro.medium.com/v2/resize:fit:377/0*WIdU95SQHio8lyBD)

- Run your application in the browser, then the result is like this.

![](https://miro.medium.com/v2/resize:fit:295/0*mRViK2v7JwOe8_jx)

- Checkout Process

![](https://miro.medium.com/v2/resize:fit:581/0*kBG8nxbtZTDpeGSx)

And you have been able to create a simple application, Paypal integration in Node.JS.

That’s the tutorial this time that I can convey, hopefully it will be useful.

Thanks.

[Paypal Node Js](https://medium.com/tag/paypal-node-js?source=post_page-----e47bd8de4afb---------------------------------------)

[Paypal Integration](https://medium.com/tag/paypal-integration?source=post_page-----e47bd8de4afb---------------------------------------)

[Nodejs](https://medium.com/tag/nodejs?source=post_page-----e47bd8de4afb---------------------------------------)

[Node Js Tutorial](https://medium.com/tag/node-js-tutorial?source=post_page-----e47bd8de4afb---------------------------------------)

[Mantan Programmer](https://medium.com/tag/mantan-programmer?source=post_page-----e47bd8de4afb---------------------------------------)

[![Geek Culture](https://miro.medium.com/v2/resize:fill:48:48/1*bWAVaFQmpmU6ePTjNIje_A.jpeg)](https://medium.com/geekculture?source=post_page---post_publication_info--e47bd8de4afb---------------------------------------)

[![Geek Culture](https://miro.medium.com/v2/resize:fill:64:64/1*bWAVaFQmpmU6ePTjNIje_A.jpeg)](https://medium.com/geekculture?source=post_page---post_publication_info--e47bd8de4afb---------------------------------------)

[**Published in Geek Culture**](https://medium.com/geekculture?source=post_page---post_publication_info--e47bd8de4afb---------------------------------------)

[33K followers](https://medium.com/geekculture/followers?source=post_page---post_publication_info--e47bd8de4afb---------------------------------------)

· [Last published Aug 31, 2023](https://medium.com/geekculture/17-things-i-wish-id-done-earlier-as-a-data-engineer-d1aa2e4f0694?source=post_page---post_publication_info--e47bd8de4afb---------------------------------------)

A new tech publication by Start it up ( [https://medium.com/swlh](https://medium.com/swlh)).

[![Mantan Programmer](https://miro.medium.com/v2/resize:fill:48:48/1*_Rx0D1fF_n2mxujb9m9i2Q.jpeg)](https://medium.com/@mantanprogrammer?source=post_page---post_author_info--e47bd8de4afb---------------------------------------)

[![Mantan Programmer](https://miro.medium.com/v2/resize:fill:64:64/1*_Rx0D1fF_n2mxujb9m9i2Q.jpeg)](https://medium.com/@mantanprogrammer?source=post_page---post_author_info--e47bd8de4afb---------------------------------------)

[**Written by Mantan Programmer**](https://medium.com/@mantanprogrammer?source=post_page---post_author_info--e47bd8de4afb---------------------------------------)

[280 followers](https://medium.com/@mantanprogrammer/followers?source=post_page---post_author_info--e47bd8de4afb---------------------------------------)

· [129 following](https://medium.com/@mantanprogrammer/following?source=post_page---post_author_info--e47bd8de4afb---------------------------------------)

Connect with me [https://www.linkedin.com/in/dede-fazri-484695109/](https://www.linkedin.com/in/dede-fazri-484695109/) or [https://temanngoding.com/](https://temanngoding.com/) [https://www.youtube.com/c/MantanProgrammer](https://www.youtube.com/c/MantanProgrammer)

## Responses (1)

![](https://miro.medium.com/v2/resize:fill:32:32/1*dmbNkD5D-u45r44go_cf0g.png)

Write a response

[What are your thoughts?](https://medium.com/m/signin?operation=register&redirect=https%3A%2F%2Fmedium.com%2Fgeekculture%2Fpaypal-integration-in-node-js-e47bd8de4afb&source=---post_responses--e47bd8de4afb---------------------respond_sidebar------------------)

Cancel

Respond

See all responses

[Help](https://help.medium.com/hc/en-us?source=post_page-----e47bd8de4afb---------------------------------------)

[Status](https://medium.statuspage.io/?source=post_page-----e47bd8de4afb---------------------------------------)

[About](https://medium.com/about?autoplay=1&source=post_page-----e47bd8de4afb---------------------------------------)

[Careers](https://medium.com/jobs-at-medium/work-at-medium-959d1a85284e?source=post_page-----e47bd8de4afb---------------------------------------)

[Press](mailto:pressinquiries@medium.com)

[Blog](https://blog.medium.com/?source=post_page-----e47bd8de4afb---------------------------------------)

[Privacy](https://policy.medium.com/medium-privacy-policy-f03bf92035c9?source=post_page-----e47bd8de4afb---------------------------------------)

[Rules](https://policy.medium.com/medium-rules-30e5502c4eb4?source=post_page-----e47bd8de4afb---------------------------------------)

[Terms](https://policy.medium.com/medium-terms-of-service-9db0094a1e0f?source=post_page-----e47bd8de4afb---------------------------------------)

[Text to speech](https://speechify.com/medium?source=post_page-----e47bd8de4afb---------------------------------------)

reCAPTCHA

Recaptcha requires verification.

[Privacy](https://www.google.com/intl/en/policies/privacy/) \- [Terms](https://www.google.com/intl/en/policies/terms/)

protected by **reCAPTCHA**

[Privacy](https://www.google.com/intl/en/policies/privacy/) \- [Terms](https://www.google.com/intl/en/policies/terms/)