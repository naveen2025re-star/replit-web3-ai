# MCP Support

Learn how to integrate LISA's security analysis capabilities into external tools using Model Context Protocol (MCP)

# [MCP Support in LISA](https://agentlisa.ai/docs/mcp-support\#mcp-support-in-lisa)

LISA provides comprehensive Model Context Protocol (MCP) support, allowing you to integrate smart contract security analysis capabilities directly into your preferred development tools and AI assistants.

## [What is MCP?](https://agentlisa.ai/docs/mcp-support\#what-is-mcp)

The **Model Context Protocol (MCP)** is an open standard that enables AI assistants and tools to access external data sources and capabilities through a standardized interface. It allows AI models to:

- Access real-time data from external services
- Execute tools and perform actions
- Retrieve context from various sources
- Integrate with development workflows seamlessly

MCP serves as a bridge between AI assistants and external services, enabling more powerful and context-aware interactions. Instead of being limited to their training data, AI models can now access live information, perform actions, and integrate with your existing tools and workflows.

### [Key Benefits](https://agentlisa.ai/docs/mcp-support\#key-benefits)

- **Real-time Access**: Get current scan results and security analysis
- **Seamless Integration**: Use LISA's capabilities within your preferred tools
- **Enhanced Context**: AI assistants can access your personal scan history and public results
- **Workflow Efficiency**: Start scans and retrieve results without leaving your development environment

## [MCP Support in LISA](https://agentlisa.ai/docs/mcp-support\#mcp-support-in-lisa-1)

LISA's MCP server (using StreamableHTTP transport) provides comprehensive access to security analysis capabilities through both **resources** (for data retrieval) and **tools** (for actions).

The MCP server is available at `https://agentlisa.ai/mcp`.

**Early Testing Phase**: While MCP support is planned to be a Pro feature, it is currently in early testing and available to all plans. This feature may be restricted to Pro users in the future.

### [Available Resources](https://agentlisa.ai/docs/mcp-support\#available-resources)

#### [Public Scan Resources](https://agentlisa.ai/docs/mcp-support\#public-scan-resources)

- **`lisa://scans/top-10/most-liked`** \- Top 10 most-liked public scan results
- **`lisa://scans/top-10/recent`** \- Top 10 recent public scan results
- **`lisa://scans/public/{cursor}`** \- Paginated list of public scans

#### [Personal Scan Resources](https://agentlisa.ai/docs/mcp-support\#personal-scan-resources)

- **`lisa://scans/personal/recent`** \- Recent 20 personal scans (requires authentication)
- **`lisa://scans/personal/{cursor}`** \- Paginated list of your personal scans

#### [Individual Scan Details](https://agentlisa.ai/docs/mcp-support\#individual-scan-details)

- **`lisa://scan/{id}`** \- Detailed information about a specific scan

### [Available Tools](https://agentlisa.ai/docs/mcp-support\#available-tools)

#### [Data Retrieval Tools](https://agentlisa.ai/docs/mcp-support\#data-retrieval-tools)

- **`fetch-recent-public-scans`** \- Get recent public scans with specified limit
- **`fetch-personal-scans`** \- Retrieve your recent scans (requires authentication)
- **`fetch-scan-detail`** \- Get detailed information about a specific scan

#### [Analysis Tools](https://agentlisa.ai/docs/mcp-support\#analysis-tools)

- **`start-scan`** \- Initiate a new security analysis scan
  - Parameters:
    - `title`: The title of the scan
    - `files`: Array of files to analyze (path and content)
    - `metadata`: Additional metadata about the scan

### [Authentication](https://agentlisa.ai/docs/mcp-support\#authentication)

LISA's MCP server uses **OAuth 2.0** authentication with dynamic client registration. This ensures secure access to personal scan data and allows you to start scans on your behalf.

### [Privacy and Data Protection](https://agentlisa.ai/docs/mcp-support\#privacy-and-data-protection)

When using MCP to start security scans, your smart contract code will be uploaded to LISA's servers for analysis. To protect your privacy and intellectual property:

- **Private Sessions**: All scan sessions started via MCP are automatically set to **private** by default
- **Enhanced Privacy**: This applies even to free users who normally cannot create private scan sessions
- **No Public Access**: Private sessions are not publicly accessible and will not appear in public scan listings
- **Pro User Control**: Pro users can change session visibility to public after completion if desired
- **Data Security**: Your code is processed securely and deleted according to our data retention policies

This ensures that your proprietary code remains confidential while still benefiting from LISA's security analysis capabilities.

### [MCP Session Management](https://agentlisa.ai/docs/mcp-support\#mcp-session-management)

When you start scans via MCP, you can control how they are organized in LISA's chat interface:

![MCP Session Management](https://agentlisa.ai/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fmcp-session-management.7a48abb4.png&w=3840&q=75)

- **Default Behavior**: Each scan triggered via MCP creates its own dedicated chat session
- **Unified Session**: You can configure all MCP scans to be grouped into a single chat session
- **Configuration**: Go to [Settings](https://agentlisa.ai/profile/settings) → General → "Session for MCP" to select a specific chat session
- **Benefits**:
  - Keep all MCP-initiated scans organized in one place
  - Maintain a continuous conversation history for related analyses
  - Easier to track and review multiple scans from external tools

If no session is selected, each MCP scan will create a new chat session automatically.

## [How to Use MCP with LISA](https://agentlisa.ai/docs/mcp-support\#how-to-use-mcp-with-lisa)

### [Claude Desktop & Claude Code](https://agentlisa.ai/docs/mcp-support\#claude-desktop--claude-code)

Claude provides the best MCP support with full authentication capabilities.

#### [Setup Instructions](https://agentlisa.ai/docs/mcp-support\#setup-instructions)

1. **Install Claude Desktop or Claude Code**



Claude CodeClaude Desktop





Download and install from [https://claude.ai/download](https://claude.ai/download)







Follow the instruction on [https://www.anthropic.com/claude-code](https://www.anthropic.com/claude-code)

2. **Configure MCP Server**



Claude CodeClaude Desktop





- Open Claude Desktop
- Go to Settings → Connectors then click on "Add custom connector"
- Enter the connector name as "LISA" and the URL as " [https://agentlisa.ai/mcp](https://agentlisa.ai/mcp)"
- Click on "Add"
- Click on "Connect" to finish the authentication process (There is currently an error finishing the process and we will resolve the problem in the coming days)

- Add the MCP server using command:







```
claude mcp add -t http LISA https://agentlisa.ai/mcp
```


3. **Authenticate**



Claude CodeClaude Desktop





- Start claude code and use the `/mcp` command to list to newly added MCP and initialize the authentication process.
- Finish the authentication process in the browser.

- Click the "Connect" button of the newly added connector
- Confirm the permissions in the browser and you're good to go.

![](https://agentlisa.ai/_next/image?url=%2Fscreenshots%2Fmcp-auth-claude-code.png&w=3840&q=75)
4. **Start Using**
   - Ask Claude to "Show me recent public scan results"
   - Request "Start a security scan for local files or provided code.

#### [Example Interactions](https://agentlisa.ai/docs/mcp-support\#example-interactions)

1. Use the existing resources provided by LISA MCP server
![](https://agentlisa.ai/_next/image?url=%2Fscreenshots%2Fmcp-list-resources.png&w=3840&q=75)
2. Scan local files using the `start-scan` tool
![](https://agentlisa.ai/_next/image?url=%2Fscreenshots%2Fmcp-start-scan-claude-code.png&w=3840&q=75)
3. Get the detailed information about a specific scan
![](https://agentlisa.ai/_next/image?url=%2Fscreenshots%2Fmcp-fetch-scan-claude-code.png&w=3840&q=75)

### [VSCode/Cursor](https://agentlisa.ai/docs/mcp-support\#vscodecursor)

Due to authentication limitations with StreamableHTTP transport in VSCode/Cursor, you can use [MCP remote tool](https://github.com/geelen/mcp-remote) via stdio as a workaround.

#### [Setup Instructions](https://agentlisa.ai/docs/mcp-support\#setup-instructions-1)

1. **Configure MCP Server**



VSCodeCursor





- Open VSCode
- Use the command palette ( `Ctrl+Shift+P` or `Cmd+Shift+P`) to open the command palette
- Search for " **MCP: Add Server**"
- Select " **Command (stdio)**" as the type for the MCP Server
- Then enter the command with arguments: `npx -y mcp-remote https://agentlisa.ai/mcp`
- Give it a name, e.g. "LISA" and select a scope (Workspace or Global)
- Then you should have the following configuration setup and are good to go.







```
{
    "servers": {
      "LISA": {
        "type": "stdio",
        "command": "npx",
        "args": [\
          "-y",\
          "mcp-remote",\
          "https://agentlisa.ai/mcp"\
        ]
      }
    },
    "inputs": []
}
```


- Open Cursor
- Use the command palette ( `Ctrl+Shift+P` or `Cmd+Shift+P`) to open the command palette
- Search for " **Open MCP Settings**"
- Add server configuration:

```
{
  "mcpServers": {
    "LISA": {
      "command": "npx",
      "args": ["-y", "mcp-remote", "https://agentlisa.ai/mcp"]
    }
  }
}
```

2. **Authenticate**
   - After setup the MCP or when VSCode/Cursor starts next time, a browser window will open to authenticate with LISA.
   - Confirm the permissions in the browser and you're good to go.
3. **Usage**
   - Use the chat interface to interact with LISA's capabilities
   - Note: Some features may be limited compared to Claude integration

#### [Example Interactions](https://agentlisa.ai/docs/mcp-support\#example-interactions-1)

1. Use the existing resources provided by LISA MCP server
![](https://agentlisa.ai/_next/image?url=%2Fscreenshots%2Fmcp-list-resources-vscode.png&w=3840&q=75)
2. Scan local files using the `start-scan` tool
![](https://agentlisa.ai/_next/image?url=%2Fscreenshots%2Fmcp-start-scan-vscode.png&w=3840&q=75)

### [Other Tools](https://agentlisa.ai/docs/mcp-support\#other-tools)

For other MCP-compatible tools, refer to their specific documentation for MCP server configuration. The general process involves:

1. Adding the MCP server URL: `https://agentlisa.ai/mcp`, or if HTTP Remote server is not supported, use the mcp-remote via stdio: `npx -y mcp-remote https://agentlisa.ai/mcp`
2. Complete the authentication process (OAuth 2.0) on the webpage
3. Using the available resources and tools

## [Example Use Cases](https://agentlisa.ai/docs/mcp-support\#example-use-cases)

### [Security Research](https://agentlisa.ai/docs/mcp-support\#security-research)

- Browse public scan results to understand common vulnerabilities
- Analyze trending security issues in smart contracts
- Learn from real-world security findings

### [Development Workflow](https://agentlisa.ai/docs/mcp-support\#development-workflow)

- Integrate security scanning into your development process
- Get instant feedback on contract security
- Maintain a history of security analyses

### [Team Collaboration](https://agentlisa.ai/docs/mcp-support\#team-collaboration)

- Share scan results with team members
- Track security improvements over time
- Maintain security audit trails

## [Troubleshooting](https://agentlisa.ai/docs/mcp-support\#troubleshooting)

### [Authentication Issues](https://agentlisa.ai/docs/mcp-support\#authentication-issues)

- Ensure you're using a supported transport (StreamableHTTP for Claude)
- Check that your LISA account is properly configured
- Verify OAuth permissions are granted

### [Connection Problems](https://agentlisa.ai/docs/mcp-support\#connection-problems)

- Verify the MCP server URL is correct
- Check network connectivity
- Ensure the LISA service is available

### [Limited Functionality](https://agentlisa.ai/docs/mcp-support\#limited-functionality)

- Some tools may require authentication
- Public resources are always available
- Personal features require proper authentication setup

## [Getting Help](https://agentlisa.ai/docs/mcp-support\#getting-help)

If you encounter issues with MCP integration:

1. Check the [MCP documentation](https://modelcontextprotocol.io/introduction)
2. Review [Claude's MCP guide](https://docs.anthropic.com/en/docs/claude-code/mcp)
3. Contact LISA support for server-specific issues

For more information about LISA's capabilities, see our [Getting Started](https://agentlisa.ai/docs/getting-started) guide and [FAQ](https://agentlisa.ai/docs/faq).

[Referral System\\
\\
Learn how to invite friends and earn credits with our referral system](https://agentlisa.ai/docs/referral-system) [VSCode Extension\\
\\
Next Page](https://agentlisa.ai/docs/vscode-extension)

### On this page

[MCP Support in LISA](https://agentlisa.ai/docs/mcp-support#mcp-support-in-lisa) [What is MCP?](https://agentlisa.ai/docs/mcp-support#what-is-mcp) [Key Benefits](https://agentlisa.ai/docs/mcp-support#key-benefits) [MCP Support in LISA](https://agentlisa.ai/docs/mcp-support#mcp-support-in-lisa-1) [Available Resources](https://agentlisa.ai/docs/mcp-support#available-resources) [Public Scan Resources](https://agentlisa.ai/docs/mcp-support#public-scan-resources) [Personal Scan Resources](https://agentlisa.ai/docs/mcp-support#personal-scan-resources) [Individual Scan Details](https://agentlisa.ai/docs/mcp-support#individual-scan-details) [Available Tools](https://agentlisa.ai/docs/mcp-support#available-tools) [Data Retrieval Tools](https://agentlisa.ai/docs/mcp-support#data-retrieval-tools) [Analysis Tools](https://agentlisa.ai/docs/mcp-support#analysis-tools) [Authentication](https://agentlisa.ai/docs/mcp-support#authentication) [Privacy and Data Protection](https://agentlisa.ai/docs/mcp-support#privacy-and-data-protection) [MCP Session Management](https://agentlisa.ai/docs/mcp-support#mcp-session-management) [How to Use MCP with LISA](https://agentlisa.ai/docs/mcp-support#how-to-use-mcp-with-lisa) [Claude Desktop & Claude Code](https://agentlisa.ai/docs/mcp-support#claude-desktop--claude-code) [Setup Instructions](https://agentlisa.ai/docs/mcp-support#setup-instructions) [Example Interactions](https://agentlisa.ai/docs/mcp-support#example-interactions) [VSCode/Cursor](https://agentlisa.ai/docs/mcp-support#vscodecursor) [Setup Instructions](https://agentlisa.ai/docs/mcp-support#setup-instructions-1) [Example Interactions](https://agentlisa.ai/docs/mcp-support#example-interactions-1) [Other Tools](https://agentlisa.ai/docs/mcp-support#other-tools) [Example Use Cases](https://agentlisa.ai/docs/mcp-support#example-use-cases) [Security Research](https://agentlisa.ai/docs/mcp-support#security-research) [Development Workflow](https://agentlisa.ai/docs/mcp-support#development-workflow) [Team Collaboration](https://agentlisa.ai/docs/mcp-support#team-collaboration) [Troubleshooting](https://agentlisa.ai/docs/mcp-support#troubleshooting) [Authentication Issues](https://agentlisa.ai/docs/mcp-support#authentication-issues) [Connection Problems](https://agentlisa.ai/docs/mcp-support#connection-problems) [Limited Functionality](https://agentlisa.ai/docs/mcp-support#limited-functionality) [Getting Help](https://agentlisa.ai/docs/mcp-support#getting-help)